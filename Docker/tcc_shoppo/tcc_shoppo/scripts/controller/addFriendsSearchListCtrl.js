function addFriendsSearchListCtrl(a,b,c,d,e,f,g,h){b.form=f,b.form.topBar.showTopBar=!0,b.form.topBar.showBackBtn=!0,b.form.bottomMenu=!1,b.form.topBar.lastPage="/main/user",b.$root.gotoLastPage=function(){c.path(b.form.topBar.lastPage)},b.searchFriend=function(){var a=copyData(b.form.userInfo);a.searchName=b.form.searchFriendsText.toLowerCase();var c=apiDomain+searchFriendsByName;$.ajax({type:AJAX_TYPE,data:a,url:c,context:document.body,success:function(a){apiResultsProcessingFun(a,function(){b.searchFriendsList=a.result,b.searchFriendsList.length>0?(b.haveResult=!0,b.form.topBar.topBarTitle=d.instant("addFriends")):(b.haveResult=!1,b.form.topBar.topBarTitle=d.instant("Search friends result")),b.$apply()})}})},b.shareEvent=function(){sendGAEvent("friend list share","Invite - "+b.form.userInfo.userName,"Share",1);var a=d.instant("shareTitle1")+appName+d.instant("shareTitle2"),c=merchantIcon,e=d.instant("inviteDisc1")+appName+d.instant("inviteDisc2")+b.form.userInfo.userName+".";b.form.shareEvent(a,c,e,"addFriend")},b.addFriend=function(a){var c=copyData(b.form.userInfo);c.friendUserId=a.userId;var d=apiDomain+addFriend;$.ajax({type:AJAX_TYPE,data:c,url:d,context:document.body,success:function(a){apiResultsProcessingFun(a,function(){10468==a.errorCode?b.haveBeenInvited=!0:b.haveBeenInvited=!1,b.sentAddFriendRuquestSuccess(),b.$apply()})}})},b.sentAddFriendRuquestSuccess=function(){b.sentAddFriendRuquest=!0,b.closeThisDialog=function(){b.sentAddFriendRuquest=!1,b.form.showFriendList=!0,c.path("main/user")},h(b,{templateUrl:"pages/common/JsBarcode128Dlg.html?rnd="+rndver,preCloseCallback:b.closeThisDialog})},b.init=function(){b.searchFriend()},b.init()}var AddFriendsSearchListCtrl=["$filter","$scope","$location","$translate","$state","form","$timeout","shoppoDialog",addFriendsSearchListCtrl];angular.module("shoppoweb").controller("AddFriendsSearchListCtrl",AddFriendsSearchListCtrl);
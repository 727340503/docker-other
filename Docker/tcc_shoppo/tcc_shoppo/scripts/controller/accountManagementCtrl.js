function accountManagementCtrl(a,b,c,d,e,f,g){b.form=g,b.form.topBar.showTopBar=!0,b.form.topBar.showMenuBtn=!1,b.form.menuMerchantList=!0,b.form.topBar.topBarTitle=d.instant("accountManagement"),b.form.topBar.showLogo=!1,b.form.bottomMenu=!1,b.form.topBar.lastPage="main/more",b.form.topBar.showLogoutBtn=!0,b.form.topBar.showBackBtn=!0,b.form.userInfo.icon||(b.form.userInfo.icon="images/user_default_photo.png"),b.form.getPofile(),b.$root.gotoLastPage=function(){c.path(b.form.topBar.lastPage)},b.$root.logoutEvent=function(){if(0==b.form.userInfo.userType)return void c.path("main/landing");localStorage.removeItem("userInfo");var a=copyData(b.form.userInfo),d=apiDomain+logout;$.ajax({type:AJAX_TYPE,data:a,url:d,context:document.body,success:function(a){apiResultsProcessingFun(a,function(){inviteCallback=function(a){},window.location="tcc://shoppo?func=facebookLogout&callback=inviteCallback",c.path("main/landing"),b.form.userInfo={},b.form.facebookInfo=null,b.$apply()})}})},b.agreeTCFn=function(){1==b.form.userInfo.isMarketingInfo?b.form.userInfo.isMarketingInfo=0:b.form.userInfo.isMarketingInfo=1;var a=copyData(b.form.userInfo),c=apiDomain+updateUserMarketingInfo;$.ajax({type:AJAX_TYPE,url:c,context:document.body,data:a,success:function(a){apiResultsProcessingFun(a,function(){b.form.getPofile(),b.$apply()})}})},b.gotoChangeProfilePicture=function(){c.path("main/changeProfilePicture")},b.gotoEditProfile=function(){c.path("main/editProfile")},b.gotoResetEmail=function(){c.path("main/resetRegisterEmail")},b.gotoResetPassword=function(){c.path("main/resetPassword")},b.gotoResetMobile=function(){c.path("main/resetMobile")},b.gotoVerifyEmail=function(){c.path("main/verifyEmail")},b.init=function(){},b.init()}var AccountManagementCtrl=["$filter","$scope","$location","$translate","$state","$timeout","form",accountManagementCtrl];angular.module("shoppoweb").controller("AccountManagementCtrl",AccountManagementCtrl);
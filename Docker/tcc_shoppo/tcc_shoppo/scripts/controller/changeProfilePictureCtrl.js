function changeProfilePictureCtrl(a,b,c,d,e,f,g){b.form=g,b.form.topBar.showTopBar=!0,b.form.topBar.showMenuBtn=!1,b.form.menuMerchantList=!0,b.form.topBar.topBarTitle=d.instant("changeProfilePicture"),b.form.topBar.showLogo=!1,b.form.bottomMenu=!1,b.form.topBar.lastPage="/main/accountManagement",b.form.fromSetProfilePage?b.form.topBar.lastPage="/main/setProfile":b.form.topBar.lastPage="/main/accountManagement",b.form.topBar.showBackBtn=!0,b.form.userInfo.icon||(b.form.userInfo.icon="images/user_default_photo.png"),b.$root.gotoLastPage=function(){b.form.fromSetProfilePage=!1,c.path(b.form.topBar.lastPage)},b.cropImageFn=function(){var a=new FileReader;a.onload=function(a){window.imgUrl=a.target.result,c.path("main/cropImage")},$(".upload-file").on("change",function(){if(0!==$(".upload-file").files){var b=this.files[0];a.readAsDataURL(b)}})},b.takePhoto=function(){selectPhotoCallback=function(a){window.imgUrl=a.result,c.path("main/cropImage"),b.$apply()},window.location="tcc://shoppo?func=takePhoto&callback=selectPhotoCallback"},b.selectPhoto=function(){selectPhotoCallback=function(a){window.imgUrl=a.result,c.path("main/cropImage"),b.$apply()},window.location="tcc://shoppo?func=selectPhoto&callback=selectPhotoCallback"},b.agreeTCFn=function(){b.agreeTC?b.agreeTC=!1:b.agreeTC=!0},b.updateUserIconEvent=function(){var a=copyData(b.form.userInfo),c=apiDomain+updateUserIcon;$.ajax({type:AJAX_TYPE,url:c,context:document.body,data:a,success:function(a){apiResultsProcessingFun(a,function(){b.$apply()})}})},b.init=function(){},b.init()}var ChangeProfilePictureCtrl=["$filter","$scope","$location","$translate","$state","$timeout","form",changeProfilePictureCtrl];angular.module("shoppoweb").controller("ChangeProfilePictureCtrl",ChangeProfilePictureCtrl);
function checkBrowser(){browser={versions:function(){var a=navigator.userAgent;navigator.appVersion;return{ios:!!a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:a.indexOf("Android")>-1||a.indexOf("Linux")>-1}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()}}function IsPC(){for(var a=navigator.userAgent,b=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"),c=!0,d=0;d<b.length;d++)if(a.indexOf(b[d])>0){c=!1;break}return c}function checkLogin(){""==window.location.hash.slice(window.location.hash.lastIndexOf("/")+1)&&(window.location.href="#/login")}function config(a,b,c,d,e){var f=rndver;c.config({debug:!1,modules:[{name:"landingController",files:["js/controllers/landingCtrl.js?rnd="+f]},{name:"loginController",files:["js/controllers/loginCtrl.js?rnd="+f]},{name:"acountListController",files:["js/controllers/acountListCtrl.js?rnd="+f]},{name:"addUserController",files:["js/controllers/addUserCtrl.js?rnd="+f]},{name:"updateUserController",files:["js/controllers/updateUserCtrl.js?rnd="+f]},{name:"roleListController",files:["js/controllers/roleListCtrl.js?rnd="+f]},{name:"addRoleController",files:["js/controllers/addRoleCtrl.js?rnd="+f]},{name:"updateRoleController",files:["js/controllers/updateRoleCtrl.js?rnd="+f]},{name:"merchantListController",files:["js/controllers/merchantListCtrl.js?rnd="+f]},{name:"merchantDetailController",files:["js/controllers/merchantDetailCtrl.js?rnd="+f]},{name:"rewardListController",files:["js/controllers/rewardListCtrl.js?rnd="+f]},{name:"rewardDetailController",files:["js/controllers/rewardDetailCtrl.js?rnd="+f]},{name:"rewardRuleDetailController",files:["js/controllers/rewardRuleDetailCtrl.js?rnd="+f]},{name:"storeListController",files:["js/controllers/storeListCtrl.js?rnd="+f]},{name:"storeDetailController",files:["js/controllers/storeDetailCtrl.js?rnd="+f]},{name:"storeAreaDetailController",files:["js/controllers/storeAreaDetailCtrl.js?rnd="+f]},{name:"reservationListController",files:["js/controllers/reservationListCtrl.js?rnd="+f]},{name:"reservationDetailController",files:["js/controllers/reservationDetailCtrl.js?rnd="+f]},{name:"campaignListController",files:["js/controllers/campaignListCtrl.js?rnd="+f]},{name:"campaignDetailController",files:["js/controllers/campaignDetailCtrl.js?rnd="+f]},{name:"homePageController",files:["js/controllers/homePageCtrl.js?rnd="+f]},{name:"homePageCurrentController",files:["js/controllers/homePageCurrentCtrl.js?rnd="+f]},{name:"homePagePreviewController",files:["js/controllers/homePagePreviewCtrl.js?rnd="+f]},{name:"gameListController",files:["js/controllers/gameListCtrl.js?rnd="+f]},{name:"gameDetailController",files:["js/controllers/gameDetailCtrl.js?rnd="+f]},{name:"bannerListController",files:["js/controllers/bannerListCtrl.js?rnd="+f]},{name:"bannerDetailController",files:["js/controllers/bannerDetailCtrl.js?rnd="+f]},{name:"couponListController",files:["js/controllers/couponListCtrl.js?rnd="+f]},{name:"couponDetailController",files:["js/controllers/couponDetailCtrl.js?rnd="+f]},{name:"customerListController",files:["js/controllers/customerListCtrl.js?rnd="+f]},{name:"customerTempListController",files:["js/controllers/customerTempListCtrl.js?rnd="+f]},{name:"customerDetailController",files:["js/controllers/customerDetailCtrl.js?rnd="+f]},{name:"customerReservationDetailController",files:["js/controllers/customerReservationDetailCtrl.js?rnd="+f]},{name:"customerAdjustStampsController",files:["js/controllers/customerAdjustStampsCtrl.js?rnd="+f]},{name:"customerAdjustCouponController",files:["js/controllers/customerAdjustCouponCtrl.js?rnd="+f]},{name:"pushTemplateController",files:["js/controllers/pushTemplateCtrl.js?rnd="+f]},{name:"pushNotifController",files:["js/controllers/pushNotifCtrl.js?rnd="+f]},{name:"userReportController",files:["js/controllers/userReportCtrl.js?rnd="+f]},{name:"campaignReportController",files:["js/controllers/campaignReportCtrl.js?rnd="+f]},{name:"collectCouponReportController",files:["js/controllers/collectCouponReportCtrl.js?rnd="+f]},{name:"collectStampsReportController",files:["js/controllers/collectStampsReportCtrl.js?rnd="+f]},{name:"purchaseReportController",files:["js/controllers/purchaseReportCtrl.js?rnd="+f]},{name:"redeemCouponReportController",files:["js/controllers/redeemCouponReportCtrl.js?rnd="+f]},{name:"redemptionReportController",files:["js/controllers/redemptionReportCtrl.js?rnd="+f]},{name:"reservationReportController",files:["js/controllers/reservationReportCtrl.js?rnd="+f]},{name:"transferStampsReportController",files:["js/controllers/transferStampsReportCtrl.js?rnd="+f]},{name:"keeperUserListController",files:["js/controllers/keeperUserListCtrl.js?rnd="+f]},{name:"keeperUserDetailController",files:["js/controllers/keeperUserDetailCtrl.js?rnd="+f]},{name:"reasonListController",files:["js/controllers/reasonListCtrl.js?rnd="+f]},{name:"reasonDetailController",files:["js/controllers/reasonDetailCtrl.js?rnd="+f]},{name:"merchantConfigListController",files:["js/controllers/merchantConfigListCtrl.js?rnd="+f]},{name:"merchantConfigDetailController",files:["js/controllers/merchantConfigDetailCtrl.js?rnd="+f]},{name:"ui-grid",serie:!0,files:["js/plugins/ui-grid/ui-grid.min.js","js/plugins/ui-grid/ui-grid.min.css","styles/plugins/myuigrid/gridstyle.css","js/plugins/ui-grid-draggable-rows/js/draggable-rows.js"]},{name:"slimscroll",files:["js/plugins/slimscroll/jquery.slimscroll.min.js"]},{name:"angular-iscroll",serie:!0,files:["js/iscroll.min.js","js/angular-iscroll.min.js"]},{name:"async",files:["js/plugins/async/async.min.js"]},{name:"md5",files:["js/plugins/jQuery-MD5-master/jquery.md5.js"]},{name:"nouislider",files:["styles/plugins/nouslider/jquery.nouislider.css","js/plugins/nouslider/jquery.nouislider.min.js","js/plugins/nouslider/angular-nouislider.js"]},{name:"lightbox",files:["js/plugins/blueimp/jquery.blueimp-gallery.min.js","styles/plugins/blueimp/css/blueimp-gallery.min.css"]},{name:"dropzonejs",files:["styles/plugins/dropzone/basic.css","styles/plugins/dropzone/dropzone.css","js/plugins/dropzone/dropzone.js"]},{name:"validate",files:["js/plugins/validate/jquery.validate.js"]},{name:"toastr",files:["js/plugins/toastr/toastr.min.js","styles/plugins/toastr/toastr.min.css"]},{name:"datapicker",files:["js/plugins/datapicker/bootstrap-datepicker.js","styles/plugins/datapicker/datepicker3.css"]},{name:"clockpicker",files:["js/plugins/clockpicker/clockpicker.js","styles/plugins/clockpicker/clockpicker.css"]},{name:"hashmap",files:["js/plugins/hashmap/hashmap.min.js"]},{name:"jsTree",files:["js/plugins/jsTree/jstree.min.js","styles/plugins/jsTree/style.min.css"]},{name:"steps",files:["styles/plugins/steps/jquery.steps.css"]},{name:"slick",files:["js/jquery.flexslider.min.js","js/plugins/ui-sortable/sortable.js"]},{name:"jscolor",serie:!0,files:["js/bootstrap-colorpicker.js"]},{name:"chosen",serie:!0,files:["js/plugins/chosen/chosen.jquery.js","js/plugins/chosen/chosen.js","styles/plugins/chosen/chosen.css"]},{name:"datetimepicker",files:["styles/plugins/datetimepicker/bootstrap-datetimepicker.min.css","js/plugins/datetimepicker/bootstrap-datetimepicker.min.js"]}]}),a.state("login",{url:"/login",controller:"LoginCtlr",templateUrl:"pages/login.html?rnd="+f,data:{pageTitle:"Login"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["loginController","md5"])}]}}).state("main",{abstract:!0,url:"/main",controller:"MainCtlr",templateUrl:"pages/common/content.html?rnd="+f,resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["hashmap","toastr","slimscroll","angular-iscroll"])}]}}).state("main.landing",{url:"/landing",controller:"LandingCtlr",templateUrl:"pages/dashboard_2.html?rnd="+f,data:{pageTitle:"Landing"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["landingController","slick","ui-grid"])}]}}).state("main.homePage",{url:"/homePage",controller:"HomePageCtrl",templateUrl:"pages/homePage.html?rnd="+f,data:{pageTitle:"Home page"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["homePageController","slick","ui-grid"])}]}}).state("main.homePageCurrent",{url:"/homePageCurrent",controller:"HomePageCurrentCtrl",templateUrl:"pages/homePageCurrent.html?rnd="+f,data:{pageTitle:"Home page"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["homePageCurrentController","slick","ui-grid"])}]}}).state("main.homePagePreview",{url:"/homePagePreview",controller:"HomePagePreviewCtrl",templateUrl:"pages/homePagePreview.html?rnd="+f,data:{pageTitle:"Home page"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["homePagePreviewController","slick","ui-grid"])}]}}).state("main.gameList",{url:"/gameList",controller:"GameListCtrl",templateUrl:"pages/gameList.html?rnd="+f,data:{pageTitle:"Game"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["gameListController","ui-grid"])}]}}).state("main.gameDetail",{url:"/gameDetail",controller:"GameDetailCtrl",templateUrl:"pages/gameDetail.html?rnd="+f,data:{pageTitle:"Game"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["gameDetailController","ui-grid","datetimepicker"])}]}}).state("main.bannerList",{url:"/bannerList",controller:"BannerListCtrl",templateUrl:"pages/bannerList.html?rnd="+f,data:{pageTitle:"Banner"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["bannerListController","ui-grid"])}]}}).state("main.bannerDetail",{url:"/bannerDetail",controller:"BannerDetailCtrl",templateUrl:"pages/bannerDetail.html?rnd="+f,data:{pageTitle:"Banner"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["bannerDetailController","ui-grid","datetimepicker"])}]}}).state("main.couponList",{url:"/couponList",controller:"CouponListCtrl",templateUrl:"pages/couponList.html?rnd="+f,data:{pageTitle:"Coupon"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["couponListController","ui-grid","hashmap","async","ui-grid","toastr","chosen"])}]}}).state("main.couponDetail",{url:"/couponDetail",controller:"CouponDetailCtrl",templateUrl:"pages/couponDetail.html?rnd="+f,data:{pageTitle:"Coupon"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["couponDetailController","ui-grid","datetimepicker"])}]}}).state("main.merchantList",{url:"/merchantList",controller:"MerchantListCtrl",templateUrl:"pages/merchantList.html?rnd="+f,data:{pageTitle:"Merchant"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["merchantListController","ui-grid"])}]}}).state("main.merchantDetail",{url:"/merchantDetail",controller:"MerchantDetailCtrl",templateUrl:"pages/merchantDetail.html?rnd="+f,data:{pageTitle:"Merchant "},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["merchantDetailController","angular-iscroll","ui-grid","lightbox","dropzonejs","validate","toastr","nouislider","datapicker","clockpicker","chosen"])}]}}).state("main.rewardList",{url:"/rewardList",controller:"RewardListCtrl",templateUrl:"pages/rewardList.html?rnd="+f,data:{pageTitle:"Reward"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["rewardListController","ui-grid"])}]}}).state("main.rewardDetail",{url:"/rewardDetail",controller:"RewardDetailCtrl",templateUrl:"pages/rewardDetail.html?rnd="+f,data:{pageTitle:"Reward"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["rewardDetailController","angular-iscroll","ui-grid","lightbox","dropzonejs","validate","toastr","nouislider","datapicker","clockpicker"])}]}}).state("main.rewardRuleDetail",{url:"/rewardRuleDetail",controller:"RewardRuleDetailCtrl",templateUrl:"pages/rewardRuleDetail.html?rnd="+f,data:{pageTitle:"Reward"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["rewardRuleDetailController"])}]}}).state("main.storeList",{url:"/storeList",controller:"StoreListCtrl",templateUrl:"pages/storeList.html?rnd="+f,data:{pageTitle:"Store"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["storeListController","ui-grid"])}]}}).state("main.storeDetail",{url:"/storeDetail",controller:"StoreDetailCtrl",templateUrl:"pages/storeDetail.html?rnd="+f,data:{pageTitle:"Store"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["storeDetailController","validate","datetimepicker"])}]}}).state("main.storeAreaDetail",{url:"/storeAreaDetail",controller:"StoreAreaDetailCtrl",templateUrl:"pages/storeAreaDetail.html?rnd="+f,data:{pageTitle:"Store"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["storeAreaDetailController","validate"])}]}}).state("main.reservationList",{url:"/reservationList",controller:"ReservationListCtrl",templateUrl:"pages/reservationList.html?rnd="+f,data:{pageTitle:"Reservation"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["reservationListController","ui-grid","datetimepicker"])}]}}).state("main.reservationDetail",{url:"/reservationDetail",controller:"ReservationDetailCtrl",templateUrl:"pages/reservationDetail.html?rnd="+f,data:{pageTitle:"Reservation"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["reservationDetailController","validate","datetimepicker"])}]}}).state("main.pushTemplate",{url:"/pushTemplate",controller:"PushTemplateCtrl",templateUrl:"pages/pushTemplate.html?rnd="+f,data:{pageTitle:"Push notification"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["pushTemplateController","validate"])}]}}).state("main.pushNotif",{url:"/pushNotif",controller:"PushNotifCtrl",templateUrl:"pages/pushNotif.html?rnd="+f,data:{pageTitle:"Push notification"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["pushNotifController","validate","ui-grid"])}]}}).state("main.campaignList",{url:"/campaignList",controller:"CampaignListCtrl",templateUrl:"pages/campaignList.html?rnd="+f,data:{pageTitle:"Campaign"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["campaignListController","ui-grid"])}]}}).state("main.campaignDetail",{url:"/campaignDetail",controller:"CampaignDetailCtrl",templateUrl:"pages/campaignDetail.html?rnd="+f,data:{pageTitle:"Campaign"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["campaignDetailController","validate","steps","datetimepicker","jscolor","ui-grid"])}]}}).state("main.customerList",{url:"/customerList",controller:"CustomerListCtrl",templateUrl:"pages/customerList.html?rnd="+f,data:{pageTitle:"Customer"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["customerListController","ui-grid"])}]}}).state("main.customerTempList",{url:"/customerTempList",controller:"CustomerTempListCtrl",templateUrl:"pages/customerTempList.html?rnd="+f,data:{pageTitle:"Customer"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["customerTempListController","ui-grid"])}]}}).state("main.customerDetail",{url:"/customerDetail",controller:"CustomerDetailCtrl",templateUrl:"pages/customerDetail.html?rnd="+f,data:{pageTitle:"Customer"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["customerDetailController","validate","steps","datetimepicker","ui-grid"])}]}}).state("main.customerReservationDetail",{url:"/customerReservationDetail",controller:"CustomerReservationDetailCtrl",templateUrl:"pages/customerReservationDetail.html?rnd="+f,data:{pageTitle:"Customer"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["customerReservationDetailController","validate","datetimepicker"])}]}}).state("main.customerAdjustStamps",{url:"/customerAdjustStamps",controller:"CustomerAdjustStampsCtrl",templateUrl:"pages/customerAdjustStamps.html?rnd="+f,data:{pageTitle:"Customer"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["customerAdjustStampsController","validate","datetimepicker"])}]}}).state("main.customerAdjustCoupon",{url:"/customerAdjustCoupon",controller:"CustomerAdjustCouponCtrl",templateUrl:"pages/customerAdjustCoupon.html?rnd="+f,data:{pageTitle:"Customer"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["customerAdjustCouponController","validate"])}]}}).state("main.roleList",{url:"/roleList",controller:"RoleListCtrl",templateUrl:"pages/roleList.html",data:{pageTitle:"Role"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["roleListController","hashmap","async","ui-grid","toastr"])}]}}).state("main.acountList",{url:"/acountList",controller:"AcountListCtrl",templateUrl:"pages/acountList.html",data:{pageTitle:"Account"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["acountListController","hashmap","async","ui-grid","toastr"])}]}}).state("main.addRole",{url:"/addRole",controller:"AddRoleCtrl",templateUrl:"pages/addRole.html",data:{pageTitle:"Role"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["addRoleController","hashmap","async","ui-grid","toastr","jsTree","validate"])}]}}).state("main.addUser",{url:"/addUser",controller:"AddUserCtrl",templateUrl:"pages/addUser.html",data:{pageTitle:"Account"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["addUserController","hashmap","async","ui-grid","toastr","jsTree","validate"])}]}}).state("main.updateRole",{url:"/updateRole",controller:"UpdateRoleCtrl",templateUrl:"pages/updateRole.html",data:{pageTitle:"Role"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["updateRoleController","hashmap","async","ui-grid","toastr","jsTree","validate"])}]}}).state("main.updateUser",{url:"/updateUser",controller:"UpdateUserCtrl",templateUrl:"pages/updateUser.html",data:{pageTitle:"Account"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["updateUserController","hashmap","async","ui-grid","toastr","jsTree","validate"])}]}}).state("main.userReport",{url:"/userReport",controller:"UserReportCtrl",templateUrl:"pages/userReport.html",data:{pageTitle:"Report and Analytics"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["userReportController","hashmap","async","ui-grid","toastr","datetimepicker","validate"])}]}}).state("main.campaignReport",{url:"/campaignReport",controller:"CampaignReportCtrl",templateUrl:"pages/campaignReport.html",data:{pageTitle:"Report and Analytics"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["campaignReportController","hashmap","async","ui-grid","toastr","datetimepicker","validate"])}]}}).state("main.collectCouponReport",{url:"/collectCouponReport",controller:"CollectCouponReportCtrl",templateUrl:"pages/collectCouponReport.html",data:{pageTitle:"Report and Analytics"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["collectCouponReportController","hashmap","async","ui-grid","toastr","datetimepicker","validate"])}]}}).state("main.collectStampsReport",{url:"/collectStampsReport",controller:"CollectStampsReportCtrl",templateUrl:"pages/collectStampsReport.html",data:{pageTitle:"Report and Analytics"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["collectStampsReportController","hashmap","async","ui-grid","toastr","datetimepicker","validate"])}]}}).state("main.purchaseReport",{url:"/purchaseReport",controller:"PurchaseReportCtrl",templateUrl:"pages/purchaseReport.html",data:{pageTitle:"Report and Analytics"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["purchaseReportController","hashmap","async","ui-grid","toastr","datetimepicker","validate"])}]}}).state("main.redeemCouponReport",{url:"/redeemCouponReport",controller:"RedeemCouponReportCtrl",templateUrl:"pages/redeemCouponReport.html",data:{pageTitle:"Report and Analytics"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["redeemCouponReportController","hashmap","async","ui-grid","toastr","datetimepicker","validate"])}]}}).state("main.redemptionReport",{url:"/redemptionReport",controller:"RedemptionReportCtrl",templateUrl:"pages/redemptionReport.html",data:{pageTitle:"Report and Analytics"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["redemptionReportController","hashmap","async","ui-grid","toastr","datetimepicker","validate"])}]}}).state("main.reservationReport",{url:"/reservationReport",controller:"ReservationReportCtrl",templateUrl:"pages/reservationReport.html",data:{pageTitle:"Report and Analytics"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["reservationReportController","hashmap","async","ui-grid","toastr","datetimepicker","validate"])}]}}).state("main.transferStampsReport",{url:"/transferStampsReport",controller:"TransferStampsReportCtrl",templateUrl:"pages/transferStampsReport.html",data:{pageTitle:"Report and Analytics"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["transferStampsReportController","hashmap","async","ui-grid","toastr","datetimepicker","validate"])}]}}).state("main.keeperUserList",{url:"/keeperUserList",controller:"KeeperUserListCtrl",templateUrl:"pages/keeperUserList.html",data:{pageTitle:"keeperUser"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["keeperUserListController","hashmap","async","ui-grid","toastr"])}]}}).state("main.keeperUserDetail",{url:"/keeperUserDetail",controller:"KeeperUserDetailCtrl",templateUrl:"pages/keeperUserDetail.html",data:{pageTitle:"keeperUser"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["keeperUserDetailController","hashmap","async","ui-grid","toastr","jsTree","validate"])}]}}).state("main.reasonList",{url:"/reasonList",controller:"ReasonListCtrl",templateUrl:"pages/reasonList.html",data:{pageTitle:"Reason"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["reasonListController","hashmap","async","ui-grid","toastr"])}]}}).state("main.reasonDetail",{url:"/reasonDetail",controller:"ReasonDetailCtrl",templateUrl:"pages/reasonDetail.html",data:{pageTitle:"Reason"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["reasonDetailController","hashmap","async","ui-grid","toastr","jsTree","validate"])}]}}).state("main.merchantConfigList",{url:"/merchantConfigList",controller:"MerchantConfigListCtrl",templateUrl:"pages/merchantConfigList.html",data:{pageTitle:"Reason"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["merchantConfigListController","hashmap","async","ui-grid","toastr"])}]}}).state("main.merchantConfigDetail",{url:"/merchantConfigDetail",controller:"MerchantConfigDetailCtrl",templateUrl:"pages/merchantConfigDetail.html",data:{pageTitle:"Reason"},resolve:{loadPlugin:["$ocLazyLoad",function(a){return a.load(["merchantConfigDetailController","hashmap","async","ui-grid","toastr","jsTree","validate"])}]}})}function copyData(a){var b={};for(var c in a)b[c]=a[c];return b}function mergeData(data1,data2){var newObj={};return newObj=eval("("+(JSON.stringify(data1)+JSON.stringify(data2)).replace(/}{/,",")+")")}function apiResultsProcessingFun(a,b,c){void 0==a.errorCode||0==a.errorCode?b():-6==a.errorCode||-16==a.errorCode||void 0!=c&&c()}function warning(a){setTimeout(function(){$("#warningMsg").val(a),$("#warning").click()},10)}function sessionTimeout(a){setTimeout(function(){$("#sessionTimeoutMsg").val(a),$("#sessionTimeout").click()},10)}function warningDlgCtrl(a,b){a.msg=$("#warningMsg").val(),a.cancel=function(){b.dismiss("cancel")},a.ok=function(){b.dismiss("cancel")}}function sessionTimeDlgCtrl(a,b,c){a.msg=$("#sessionTimeoutMsg").val(),sessionStorage.clear(),a.timeout=!0,a.cancel=function(){c.go("login"),b.dismiss("cancel")},a.ok=function(){c.go("login"),b.dismiss("cancel")}}function mainCtlr(a,b,c,d){resistSession(c,d),c.functionList||d.go("login"),a.form=c,a.makePermissionHash=function(){if(!a.$root.permissions){a.$root.permissions=new HashMap;for(var b=0;b<a.form.actionList.length;b++){var c=a.form.actionList[b];a.$root.permissions.set(c.funcCode,1)}}},a.makePermissionHash(),a.warning=function(){b.open({templateUrl:"warningDlg.html",controller:WarningDlgCtrl})},a.sessionTimeout=function(){b.open({templateUrl:"pages/common/timeoutDlg.html",controller:SessionTimeDlgCtrl})},a.form.phoneCodeFormat=function(a){return a?a.replace(/^00/,"+"):""},a.form.getPhoneCode=function(a){return a=a.substr(a.indexOf("+"),a.length),a=a.replace("+","00")},a.$root.gotoUrl=function(a){d.go(a,{},{reload:!1}),$("body").hasClass("body-small")&&angular.element(".navbar-minimalize").scope().minimalize()},a.$root.yesNoDialog=function(c){c(a,a.$root,b)},a.$root.warningDialog=function(c){c(a,a.$root,b)},a.$root.checkPermission=function(b){return void 0!==a.$root.permissions.get(b)};var e,f,g,h;a.$root.prepareUploadImg=function(b,c,d,e,i,j,k){function l(){h.removeEventListener("change",l,!1);var c=this.files[0];if(void 0===e&&(e={}),e.localFilename=c.name,!/image\/\w+/.test(c.type))return a.alert("warning"," ","Must be image file format!"),!1;c.size/1048576>3?(a.alert("warning"," ","File cannot exceed 3M！"),h.value=""):(f=new FileReader,f.readAsDataURL(c),f.onload=function(c){var e=new Image;e.src=this.result,e.onload=function(){i&&void 0!==i.width?this.width==i.width&&this.height==i.height?(g.src=this.src,a.$root.guploadImg(d,b,j,k)):(a.alert("warning"," ","Dimension must be："+i.width+" x "+i.height),h.value=""):(g.src=this.src,a.$root.guploadImg(d,b,j,k))}})}g=document.getElementById(c),h=document.getElementById(b),"undefined"==typeof FileReader?(a.alert("warning"," ","Sorry, your browser does not support FileReader"),h.setAttribute("disabled","disabled")):h.addEventListener("change",l,!1)},a.$root.guploadImg=function(b,c,d,f){e=g.src.replace("image/jpeg","image/jpg");var h=apiDomain+uploadImgApi,i=copyData(a.form.userInfo);i.image=e,i.merchantId=d,i.type=f,$.ajax({type:a.form.postType,url:h,context:document.body,data:i,success:function(a){apiResultsProcessingFun(a,function(){b&&b(c,a.result)})}})},a.goLanding=function(){d.go("main.landing")},a.goToInBox=function(){d.go("main.notificationIn")},a.logOut=function(){sessionStorage.clear(),a.form={},d.go("login")},a.form.getLongDate=function(a){var b=new Date,c=a.substring(0,a.lastIndexOf(" ")).split("-"),d=a.substring(a.lastIndexOf(" ")).split(":");return b.setYear(c[0]),b.setMonth(c[1]-1),b.setDate(c[2]),b.setHours(d[0],d[1]),b.getTime()},a.alert=function(a,b,c){var d=a,e=b,f=c;toastr.options={closeButton:!0,debug:!1,progressBar:!0,preventDuplicates:!1,positionClass:"toast-center",onclick:null,showDuration:"100000000",hideDuration:"2000",timeOut:"3000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},e||(e=getMessage());var g=toastr[d](e,f);$toastlast=g},a.$on("onRepeatLast",function(a,b,c){setTimeout(function(){var a=$(".navbar-static-side").height();$(".slimScrollDiv").slimscroll({size:"5px",height:a+"px",wheelStep:10,touchScrollStep:20})},300),console.log("on repeat last")})}function resistSession(a,b){if(!a.functionList){var c=sessionStorage.getItem("ks");if(c)try{var d=CryptoJS.AES.decrypt(c,"kplus");d=d.toString(CryptoJS.enc.Utf8);var e=sessionStorage.getItem("f1"),f=sessionStorage.getItem("a1"),g=sessionStorage.getItem("s1"),h=sessionStorage.getItem("r1"),i=sessionStorage.getItem("form"),j=CryptoJS.AES.decrypt(e,d);j=j.toString(CryptoJS.enc.Utf8);var k=CryptoJS.AES.decrypt(f,d);k=k.toString(CryptoJS.enc.Utf8);var l=CryptoJS.AES.decrypt(g,d);l=l.toString(CryptoJS.enc.Utf8);var m=CryptoJS.AES.decrypt(h,d);m=m.toString(CryptoJS.enc.Utf8);var n=CryptoJS.AES.decrypt(i,d);n=n.toString(CryptoJS.enc.Utf8),a.functionList=angular.fromJson(j),a.actionList=angular.fromJson(k),a.userInfo=angular.fromJson(l),a.systemUserRole=angular.fromJson(m),a=angular.fromJson(n)}catch(a){}}return a}function clearSession(){if("undefined"!=typeof keepSession&&keepSession){localStorage.removeItem("s01")}}function getUrlParam(a){var b=new RegExp("(^|&)"+a+"=([^&]*)(&|$)"),c=window.location.search.substr(1).match(b);return null!=c?unescape(c[2]):null}function config2(a){a.translations("en_US",{Landing:"Landing",News:"News",MerchantManagement:"Merchant management",MerchantList:"Merchant list",AccountManagement:"Account management",RoleList:"Role list",AcountList:"Acount list",Description:"Description",Status:"Status",Cancel:"Cancel",Savechanges:"Save changes",Merchant:"Merchant",Search:"Search",Confirm:"Confirm",Warning:"Warning",Error:"Error",AreYouSure:"Are you sure?",New:"New",Delete:"Delete",Message:"Message",Reply:"Reply",OK:"OK",datagridresult:"Data from {{startItem}} to {{endItem}} total {{totalItems}} results",LogIn:"Login",LogOut:"Logout",MerchantName:"Merchant name",MerchantCode:"Merchant code",Page_Pre:"Previous",Page_Next:"Next",merchantInfo:"Merchant info",homePage:"Home",RoleName:"Role name",RoleType:"Role type",FunctionSelection:"Function selection",userName:"User name",userInfo:"User info",password:"Password",Tel:"Telephone",email:"E-Mail",Role:"Role",RoleInfo:"Role info",RewardList:"Reward list",RewardManagement:"Reward management",RewardInfo:"Reward info",Image:"Image",Content:"Content",externalId:"External id",SecurityKey:"Security Key",TimeZone:"Time Zone",LoginMethod:"Login method",Language:"Language",DefaultLanguage:"Default Language",IssueStampMethod:"Issue stamp method",SuggestedSize:"",modify:"Modify",logoImage:"Logo image",ModifyView:"Modify / view",CampaignManagement:"Campaign management",CampaignList:"Campaign list",CampaignInfo:"Campaign info",Stamp:"Stamp",Reward:"Reward",CampaignName:"Campaign name",campaignPeriod:"Campaign period",collectStampPeriod:"Collect stamp period",redemptionPeriod:"Redemption period",campaignTC:"Campaign T&C",CampaignStatus:"Campaign status",stampRatio:"Spending to stamps ratio",prmBannerUrl:"Promotion url",CoverImage:"Cover image",BackgroundImage:"Background image",PromotionBannerImage:"Promotion banner image",Pending:"Pending",Active:"Active",Expired:"Expired",Inactive:"Inactive",comingSoon:"Coming soon",available:"Available","low stock":"Low stock","out of stock":"Out of stock",RewardName:"Reward name",StoreManagement:"Store management",StoreList:"Store list",StoreName:"Store name",externalStoreId:"External store id",Address:"Address",Phone:"Phone",openingHour:"Opening hour",closingHour:"Closing hour",merchant:"Merchant",isReservation:"Open for reservation",reservationExpiredTime:"Reservation expired time",RedemptionRule:"Redemption rule",PlatformAdminstrator:"Platform adminstrator",MallAdminstrator:"Merchant adminstrator",OrderUsername:"Order user name",stampQty:"stampQty",cashQty:"cashQty",reservationCode:"Reservation code",contactName:"Contact name",contactPhone:"Contact phone",createdTime:"Created time",expiredTime:"Expired time",gift:"Reward",campaign:"Campaign",store:"Store",storeAddress:"Store address",AvailableAtStore:"Available at store",ReservationList:"Reservation list",ReservationManagement:"Reservation management",searchLanguage:"Search language",StoreArea:"Store area",RewardRuleInfo:"Reward rule info",GameList:"Game List",PromotionManagement:"Promotion management",GameInfo:"Game info",webUrl:"Web url",StoreAreaInfo:"Store area info",areaInfo:"Area name",contactPhoneAreaCode:"Contact phone area code",pushTemplate:"Push template",HomePage:"Home page",StoreInfo:"Store info",BannerList:"Banner list",BannerInfo:"Banner info",CouponList:"Coupon list",CouponName:"Coupon name",CouponInfo:"Coupon info",Settled:"Settled","Available at store":"Available at store",Confirmed:"Confirmed",UnSent:"Draft",Sent:"Sent",Failed:"Failed",Incompleted:"Incompleted",Cancelled:"Cancelled",ReservationInfo:"Reservation info",CustomerList:"Customer list",CustomerManagement:"Customer management",CustomerInfo:"Customer info",StampHistory:"Stamp history",redemptionHistory:"Redemption history",reservationHistory:"Reservation history",BusinessInfo:"Business days & hours",DefaultStampsNo:"No. of Free stamps","Default stamps target":"Default stamps target",PushNotifManagement:"Push notification management",AdjustStamps:"Adjust Stamps",BackgroundColor:"Background color",BackgroundType:"Background type",PhoneDistrictCode:"Phone district code",reservationMethod:"Reservation method",District:"District","Contact number":"Contact number","Reward cover image":"Reward cover image","Browser type":"Browser type",CampaignReport:"Campaign report",Export:"Export",Generate:"Generate",collectCouponReport:"Collect coupon report",collectStampsReport:"Collect stamps report",redeemCouponReport:"Redeem coupon report",redemptionReport:"Redemption report",reservationReport:"Reservation report",transferStampsReport:"Transfer stamps report",UserReport:"User report",purchaseReport:"Purchase items & amount","pick up time":"Pick up time",ReportAndAnalytics:"Report and Analytics",FromDate:"From date",ToDate:"To date",relatedCampaign:"Related campaign",changesecuritykey:"Change security key",UserType:"User type",en_US:"English",zh_CN:"简体中文",zh_HK:"繁體中文",UserFirstName:"User first name",LastName:"Last name",ContactEmail:"Contact email",firstName:"First name",lastName:"Last name",stampQty:"Stamp Qty",cashQty:"Cash Qty",BannerName:"Banner name",GameName:"Game name","Contact person":"Contact person",passwordFormat:"8-12 characters, contains lowercase and number",addUser:"add User","Reserved reward":"Reserved reward","Reservation status":"Reservation status","Reservation date":"Reservation date","Reservation expiry date":"Reservation expiry date","Pick up store":"Pick up store",Name:"Name","Reservation time":"Reservation Time","Pickup time":"Pick up Time","Pick up date":"Pick up date",KeeperUserList:"Keeper User List",KeeperUserManagement:"Keeper User Management",keeperUserInfo:"keeper User Info",mapType:"Map display","Google map":"Google map","Baidu map":"Baidu map",ReasonList:"Stamp adjustment reason list",ReasonInfo:"Stamp adjustment reason Info",reasonTitle:"Reason title",reasonContent:"Reason content","Mobile/Email":"Mobile/Email",tempCustomerList:"Temp Customer List",type:"Type","Display Address":"Display Address"}).translations("cn",{}).translations("zh_CN",{}),a.preferredLanguage("en_US")}function pageTitle(a,b){return{link:function(c,d){var e=function(a,c,e,f,g){var h="Tcc";c.data&&c.data.pageTitle&&(h="TCC | "+c.data.pageTitle),b(function(){d.text(h)})};a.$on("$stateChangeStart",e)}}}function sideNavigation(a){return{restrict:"A",link:function(b,c){a(function(){c.metisMenu()})}}}function responsiveVideo(){return{restrict:"A",link:function(a,b){var c=b,d=b.children();d.attr("data-aspectRatio",d.height()/d.width()).removeAttr("height").removeAttr("width"),$(window).resize(function(){var a=c.width();d.width(a).height(a*d.attr("data-aspectRatio"))}).resize()}}}function iboxTools(a){return{restrict:"A",scope:!0,templateUrl:"pages/common/ibox_tools.html",controller:["$scope","$element",function(b,c){b.showhide=function(){var b=c.closest("div.ibox"),d=c.find("i:first");b.find("div.ibox-content").slideToggle(200),d.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down"),b.toggleClass("").toggleClass("border-bottom"),a(function(){b.resize(),b.find("[id^=map-]").resize()},50)},b.closebox=function(){c.closest("div.ibox").remove()}}]}}function iboxToolsFullScreen(a){return{restrict:"A",scope:!0,templateUrl:"views/common/ibox_tools_full_screen.html",controller:["$scope","$element",function(b,c){b.showhide=function(){var b=c.closest("div.ibox"),d=c.find("i:first");b.find("div.ibox-content").slideToggle(200),d.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down"),b.toggleClass("").toggleClass("border-bottom"),a(function(){b.resize(),b.find("[id^=map-]").resize()},50)},b.closebox=function(){c.closest("div.ibox").remove()},b.fullscreen=function(){var a=c.closest("div.ibox"),b=c.find("i.fa-expand");$("body").toggleClass("fullscreen-ibox-mode"),b.toggleClass("fa-expand").toggleClass("fa-compress"),a.toggleClass("fullscreen"),setTimeout(function(){$(window).trigger("resize")},100)}}]}}function minimalizaSidebar(a){return{restrict:"A",template:'<a class="navbar-minimalize minimalize-styl-2 btn btn-primary " href="" ng-click="minimalize()"><i class="fa fa-bars"></i></a>',controller:["$scope","$element",function(a,b){a.minimalize=function(){$("body").toggleClass("mini-navbar"),!$("body").hasClass("mini-navbar")||$("body").hasClass("body-small")?($("#side-menu").hide(),setTimeout(function(){$("#side-menu").fadeIn(500)},100)):$("body").hasClass("fixed-sidebar")?$("#side-menu").hide():$("#side-menu").removeAttr("style")}}]}}function closeOffCanvas(){return{restrict:"A",template:'<a class="close-canvas-menu" ng-click="closeOffCanvas()"><i class="fa fa-times"></i></a>',controller:["$scope","$element",function(a,b){a.closeOffCanvas=function(){$("body").toggleClass("mini-navbar")}}]}}function vectorMap(){return{restrict:"A",scope:{myMapData:"="},link:function(a,b,c){b.vectorMap({map:"world_mill_en",backgroundColor:"transparent",regionStyle:{initial:{fill:"#e4e4e4","fill-opacity":.9,stroke:"none","stroke-width":0,"stroke-opacity":0}},series:{regions:[{values:a.myMapData,scale:["#1ab394","#22d6b1"],normalizeFunction:"polynomial"}]}})}}}function sparkline(){return{restrict:"A",scope:{sparkData:"=",sparkOptions:"="},link:function(a,b,c){a.$watch(a.sparkData,function(){d()}),a.$watch(a.sparkOptions,function(){d()});var d=function(){$(b).sparkline(a.sparkData,a.sparkOptions)}}}}function icheck(a){return{restrict:"A",require:"ngModel",link:function(b,c,d,e){return a(function(){var a;return a=d.value,b.$watch(d.ngModel,function(a){$(c).iCheck("update")}),$(c).iCheck({checkboxClass:"icheckbox_square-green",radioClass:"iradio_square-green"}).on("ifChanged",function(f){if("checkbox"===$(c).attr("type")&&d.ngModel&&b.$apply(function(){return e.$setViewValue(f.target.checked)}),"radio"===$(c).attr("type")&&d.ngModel)return b.$apply(function(){return e.$setViewValue(a)})})})}}}function ionRangeSlider(){return{restrict:"A",scope:{rangeOptions:"="},link:function(a,b,c){b.ionRangeSlider(a.rangeOptions)}}}function dropZone(){return function(a,b,c){b.dropzone({url:"/upload",maxFilesize:100,paramName:"uploadfile",maxThumbnailFilesize:5,init:function(){a.files.push({file:"added"}),this.on("success",function(a,b){}),this.on("addedfile",function(b){a.$apply(function(){alert(b),a.files.push({file:"added"})})}),this.on("drop",function(a){alert("file")})}})}}function chatSlimScroll(a){return{restrict:"A",link:function(b,c){a(function(){c.slimscroll({height:"234px",railOpacity:.4})})}}}function customValid(){return{require:"ngModel",link:function(a,b,c,d){a.$watch(c.ngModel,function(){"Inspinia"==a.extras?d.$setValidity("cvalid",!0):d.$setValidity("cvalid",!1)})}}}function fullScroll(a){return{restrict:"A",link:function(b,c){a(function(){c.slimscroll({height:"100%",railOpacity:.9})})}}}function slimScroll(a){return{restrict:"A",scope:{boxHeight:"@"},link:function(b,c){a(function(){c.slimscroll({height:b.boxHeight,railOpacity:.9})})}}}function clockPicker(){return{restrict:"A",link:function(a,b){b.clockpicker()}}}function landingScrollspy(){return{restrict:"A",link:function(a,b,c){b.scrollspy({target:".navbar-fixed-top",offset:80})}}}function fitHeight(){return{restrict:"A",link:function(a,b){b.css("height",$(window).height()+"px"),b.css("min-height",$(window).height()+"px")}}}function onLastRepeat(){return function(a,b,c){a.$last&&setTimeout(function(){a.$emit("onRepeatLast",b,c)},1)}}function iosDblclick(){const a=300;var b,c=!1;return{restrict:"A",link:function(d,e,f){e.bind("click",function(e){if(c){c=!1;(new Date).getTime()-b<a&&d.$apply(f.iosDblclick)}else b=(new Date).getTime(),c=!0,setTimeout(function(){c=!1},a)})}}}checkBrowser(),IsPC();var error=new Array;error.en_US=new Array,error.en_US.noNetWork="Unable to connect server , please try again later.",error.en_US.imgLimit="Image size can not exceed 3 M",error.en_US[-1]="Failed",error.en_US[-2]="errorCode:-2 null Error Message",error.en_US[-3]="errorCode:-3 null Error Message",error.en_US[-4]="errorCode:-4 null Error Message",error.en_US[-5]="errorCode:-5 null Error Message",error.en_US[-6]="errorCode:-6 null Error Message",error.en_US[-7]="errorCode:-7 null Error Message",error.en_US[-100]="Already exists punch card, cannot creat.",error.en_US[-101]="rewardContent length more than 500 charset.",error.en_US[-102]="termsConditionLen length more than 3000 charset.",error.en_US[-103]="punchCardType out of range.",error.en_US[-200]="errorCode:-200 null Error Message",error.en_US[-201]="errorCode:-201 null Error Message",error.en_US[-300]="title length more than 300 charset.",error.en_US[-301]="description length more than 500 charset.",error.en_US[-302]="termsConditions length more than 3000 charset.",error.en_US[-400]="Warning Not valid Code.",error.en_US[-401]="User coupon qrCode is not exists.",error.en_US[-402]="User punch Card qrCode is not exists.",error.en_US[-403]="User qrCode is not exists.",error.en_US[-500]="Email already exists",error.en_US[-1402]="Member tier info already exist.",error.en_US[-1401]="Member tier status update fail.",error.en_US.cancelSuccess="Successfully cancelled",error.en_US.punchcardEdit="You are going to edit details of a current stamp card, the updated information will override the old data on existing stamp cards. Are you sure?",error.en_US.punchcardTerminate="You are going to terminate an issued stamp card. Users will not be able to collect stamps or redeem rewards with it. Are you sure",error.en_US.CouponTerminate="You are going to terminate an issued coupon. Users will not be able to collect or redeem it. Are you sure?",error.en_US.inputEmpty="Something is missing.  Please check your inputs and try again.",error.en_US.EditPunchcard="Confirm to edit",error.en_US.TerminatePunchcard="Confirm to terminate",error.en_US.TerminateCoupon="Confirm to terminate",error.zh_CN=new Array,error.zh_CN.noNetWork="服务器繁忙，请稍后再试",error.zh_CN.imgLimit="圖片大小不能超過3M。",error.zh_CN[-1]="服务器繁忙，请稍后再试",error.zh_CN[-2]="输入参数不能为空",error.zh_CN[-3]="errorCode:-3 null Error Message _cn",error.zh_CN[-4]="errorCode:-4 null Error Message _cn",error.zh_CN[-5]="errorCode:-5 null Error Message _cn",error.zh_CN[-6]="errorCode:-6 null Error Message _cn",error.zh_CN[-7]="errorCode:-7 null Error Message _cn",error.zh_CN[-100]="this entityId have active punch card,can not change status. _cn",error.zh_CN[-101]="rewardContent length more than 500 charset. _cn",error.zh_CN[-102]="termsConditionLen length more than 3000 charset. _cn",error.zh_CN[-103]="punchCardType out of range. _cn",error.zh_CN[-200]="文档不存在",error.zh_CN[-201]="文档转换错误",error.zh_CN[-300]="title length more than 300 charset. _cn",error.zh_CN[-301]="description length more than 500 charset. _cn",error.zh_CN[-302]="termsConditions length more than 3000 charset. _cn",error.zh_CN[-400]="Warning Not valid Code. _cn",error.zh_CN[-401]="User coupon qrCode is not exists. _cn",error.zh_CN[-402]="User punch Card qrCode is not exists. _cn",error.zh_CN[-403]="User qrCode is not exists. _cn",error.zh_CN[-500]="Email already exists _cn",error.zh_CN[-1402]="Member tier info already exist._cn",error.zh_CN[-1401]="Member tier status update fail._cn",error.zh_CN.cancelSuccess="已成功取消",error.zh_CN.punchcardEdit="印花卡已經推出，已發放的印花卡會因應你所作出的改動而更新，確定要修改其內容?",error.zh_CN.punchcardTerminate="印花卡已經推出，會員將無法繼續收集印花或兌換獎賞，確定要移除印花卡?",error.zh_CN.inputEmpty="Something is missing.  Please check your inputs and try again.",error.zh_CN.EditPunchcard="確定修改",error.zh_CN.TerminatePunchcard="確定並移除",error.zh_CN.CouponTerminate="優惠券已經推出，移除後會員將無法憑優惠券兌換獎賞，確定要移除優惠券?",error.zh_CN.TerminateCoupon="確定並移除",apiDomain="../tcc_cms",getLoginApi="/login",getMerchantListApi="/getMerchantList",generateMerchantSecurityKeyApi="/generateMerchantSecurityKey",createMerchantApi="/createMerchant",updateMerchantApi="/updateMerchant",getSystemUserListApi="/getSystemUserList",getSystemRoleAllListApi="/getSystemRoleAllList",getMerchantDetailApi="/getMerchantDetail",getLanguageAllListApi="/getLanguageAllList",uploadImgApi="/uploadBase64ImageFile",getCampaignListApi="/getCampaignList",createUserApi="/createSystemUser",getSystemUserDetailApi="/getSystemUserDetail",createCampaignApi="/createCampaign",getCampaignDetailApi="/getCampaignDetail",updateSystemUserApi="/updateSystemUser",getSystemRoleDetailApi="/getSystemRoleDetail",createSystemRoleApi="/createSystemRole",updateSystemRoleApi="/updateSystemRole",deleteSystemRoleApi="/deleteSystemRole",getSystemFuncAllListApi="/getSystemFuncAllList",getStampListApi="/getStampList",createStampApi="/createStamp",updateStampApi="/updateStamp",deleteStampApi="/deleteStamp",updateCampaignApi="/updateCampaign",delSystemUserApi="/delSystemUser",getMerchantSecurityKeyApi="/getMerchantSecurityKey",getGiftListApi="/getGiftList",getCampaignGiftMapDetailApi="/getCampaignGiftMapDetail",addCampaignGiftApi="/addCampaignGift",udpateCampaignGiftApi="/udpateCampaignGift",createGiftApi="/createGift",updateGiftApi="/updateGift",getGiftDetailApi="/getGiftDetail",deleteGiftApi="/deleteGift",delCampaignGiftMapApi="/delCampaignGiftMap",delCampaignGiftMapEXTypeApi="/delCampaignGiftMapEXType",getStoreListApi="/getStoreList",createStoreApi="/createStore",updateStoreApi="/updateStore",getStoreDetailApi="/getStoreDetail",getUserReservationListApi="/getUserReservationList",getUserReservationDetailApi="/getUserReservationDetail",updateUserReservationStatusApi="/updateUserReservationStatus",getmerchantAreaListApi="/getmerchantAreaList",delMerchantAreaApi="/delMerchantArea",createMerchantAreaApi="/createMerchantArea",updateMerchantAreaApi="/updateMerchantArea",getGameListApi="/getGameList",createGameApi="/createGame",updateGameApi="/updateGame",getGameDetailApi="/getGameDetail",deleteGameApi="/deleteGame",getMerchantHomePageApi="/getMerchantHomePage",updateMerchantHomePageApi="/createchantHomePage",publishMerchantHomePageApi="/publishMerchantHomePage",getCampaignGiftListApi="/getCampaignGiftList",getMerchantCampaignListApi="/getHomePageCampaignList",getMerchantGameListApi="/getHomePageGameList",getMerchantReservationPushNotifApi="/getMerchantReservationPushNotif",createPushNotifApi="/createPushNotif",updatePushNotifApi="/updatePushNotif",getBannerListApi="/getBannerList",createBannerApi="/createBanner",updateBannerApi="/updateBanner",getBannerDetailApi="/getBannerDetail",deleteBannerApi="/deleteBanner",getHomePageBanerListApi="/getHomePageBanerList",getCouponListApi="/getCouponList",createCouponApi="/createCoupon",updateCouponApi="/updateCoupon",getCouponDetailApi="/getCouponDetail",deleteCouponApi="/deleteCoupon",getHomePageCouponListApi="/getHomePageCouponList",updateCouponSortOrderApi="/updateCouponSortOrder",updateBannerSortOrderApi="/updateBannerSortOrder",getPushNotifListApi="/getPushNotifList",getPushNotifDetailApi="/getPushNotifDetail",publishPushNotifApi="/publishPushNotif",getUserListApi="/getUserList",getUserDetailApi="/getUserDetail",getUserStampHistoryListApi="/getUserStampHistoryList",getUserRedeemHistoryListApi="/getUserRedeemHistoryList",getCurrencyUnitlistApi="/getCurrencyUnitlist",getCustomerCampaignApi="/getCustomerCampaign",updateUserStampCountApi="/updateUserStampCount",viewUserReportApi="/viewUserReport",exportUserReportApi="/exportUserReport",viewCampaignReportApi="/viewCampaignReport",exportCampaignReportApi="/exportCampaignReport",viewCollectStampsReportApi="/viewCollectStampsReport",exportCollectStampsReportApi="/exportCollectStampsReport",viewRedemptionReportApi="/viewRedemptionReport",exportRedemptionReportApi="/exportRedemptionReport",viewTransferStampsReportApi="/viewTransferStampsReport",exportTransferStampsReportApi="/exportTransferStampsReport",viewUserReservationReportApi="/viewUserReservationReport",exportUserReservationReportApi="/exportReservationReport",updateMerchantSecurityKeyApi="/updateMerchantSecurityKey",getKeeperUserListApi="/getKeeperUserList",getKeeperUserDetailApi="/getKeeperUserDetail",addKeeperUserApi="/addKeeperUser",updateKeeperUserApi="/updateKeeperUser",getStampAdjustReasonListApi="/getStampAdjustReasonList",getStampAdjustReasonDetailApi="/getStampAdjustReasonDetail",addStampAdjustReasonApi="/addStampAdjustReason",updateStampAdjustReasonApi="/updateStampAdjustReason",deleteStampAdjustReasonApi="/deleteStampAdjustReason",getMerchantConfigListApi="/getMerchantConfigList",getMerchantConfigInfoApi="/getMerchantConfigInfo",addMerchantConfigApi="/addMerchantConfig",updateMerchantConfigApi="/updateMerchantConfig",updateMerchantConfigCacheApi="/updateMerchantConfigCache",viewCollectCouponReportApi="/viewCollectCouponReport",exportCollectCouponReportApi="/exportCollectCouponReport",viewRedeemedtCouponReportApi="/viewRedeemedtCouponReport",exportRedeemCouponReportApi="/exportRedeemCouponReport",getUserCouponListApi="/getUserCouponList",addUserCouponApi="/addUserCoupon",revokeUserCouponApi="/revokeUserCoupon",getTempUserListApi="/getTempUserList",baiduMapKey="NzjDQBBG6qK79VuWQoHAn8cR",googleMapKey="AIzaSyAcTdQWK4OtoUnIkIEKrEK1zgouRo2yY8M";const PC_STATUS_ACTIVE_N_INACTIVE=9,PC_STATUS_INACTIVE=0,PC_STATUS_ACTIVE=1,PC_STATUS_TERMINATED=4,PC_STATUS_CREATED=1,CP_STATUS_ACTIVE=1,CP_STATUS_TERMINATED=2,CP_IMGLOAD_COUNT=6,PMC_STATUS_CREATED=1,PM_TARGET_TYPE=2,MBRCARD_STATUS_ACTIVE=1,MBRTIER_STATUS_ACTIVE=1,RESULT_SUCCESS=0,RESULT_USER_NOT_EXIST=-5e3;!function(){angular.module("keeperp",["ui.router","oc.lazyLoad","ui.bootstrap","pascalprecht.translate","ngIdle","ngSanitize","ngIOS9UIWebViewPatch"])}();var factoryVal={userInfo:localStorage.userInfo?eval("("+localStorage.userInfo+")"):{},postType:"POST",lang:"en_US",dateFormat:[{wenzi:"YYYY.MM.DD",value:"YYYY.MM.dd"},{wenzi:"DD.MM.YYYY",value:"dd.MM.YYYY"},{wenzi:"MM.DD.YYYY",value:"MM.dd.YYYY"}],phoneDistrictCode:["Afghanistan +93","Albania +355","Algeria +213","American Samoa +1684","Andorra +376","Angola +244","Anguilla +1264","Antarctica +672","Antigua and Barbuda +1268","Argentina +54","Armenia +374","Aruba +297","Australia +61","Austria +43","Azerbaijan +994","Bahamas +1242","Bahrain +973","Bangladesh +880","Barbados +1246","Belarus +375","Belgium +32","Belize +501","Benin +229","Bermuda +1441","Bhutan +975","Bolivia +591","Bosnia and Herzegovina +387","Botswana +267","Brazil +55","British Indian Ocean Territory +246","British Virgin Islands +1284","Brunei +673","Bulgaria +359","Burkina Faso +226","Burundi +257","Cambodia +855","Cameroon +237","Canada +1","Cape Verde +238","Cayman Islands +1345","Central African Republic +236","Chad +235","Chile +56","China +86","Christmas Island +61","Cocos Islands +61","Colombia +57","Comoros +269","Cook Islands +682","Costa Rica +506","Croatia +385","Cuba +53","Curacao +599","Cyprus +357","Czech Republic +420","Democratic Republic of the Congo +243","Denmark +45","Djibouti +253","Dominica +1767","Dominican Republic +1829","Dominican Republic +1809","Dominican Republic +1849","East Timor +670","Ecuador +593","Egypt +20","El Salvador +503","Equatorial Guinea +240","Eritrea +291","Estonia +372","Ethiopia +251","Falkland Islands +500","Faroe Islands +298","Fiji +679","Finland +358","France +33","French Polynesia +689","Gabon +241","Gambia +220","Georgia +995","Germany +49","Ghana +233","Gibraltar +350","Greece +30","Greenland +299","Grenada +1473","Guam +1671","Guatemala +502","Guernsey +441481","Guinea +224","Guinea-Bissau +245","Guyana +592","Haiti +509","Honduras +504","Hong Kong +852","Hungary +36","Iceland +354","India +91","Indonesia +62","Iran +98","Iraq +964","Ireland +353","Isle of Man +441624","Israel +972","Italy +39","Ivory Coast +225","Jamaica +1876","Japan +81","Jersey +441534","Jordan +962","Kazakhstan +7","Kenya +254","Kiribati +686","Kosovo +383","Kuwait +965","Kyrgyzstan +996","Laos +856","Latvia +371","Lebanon +961","Lesotho +266","Liberia +231","Libya +218","Liechtenstein +423","Lithuania +370","Luxembourg +352","Macau +853","Macedonia +389","Madagascar +261","Malawi +265","Malaysia +60","Maldives +960","Mali +223","Malta +356","Marshall Islands +692","Mauritania +222","Mauritius +230","Mayotte +262","Mexico +52","Micronesia +691","Moldova +373","Monaco +377","Mongolia +976","Montenegro +382","Montserrat +1664","Morocco +212","Mozambique +258","Myanmar +95","Namibia +264","Nauru +674","Nepal +977","Netherlands +31","Netherlands Antilles +599","New Caledonia +687","New Zealand +64","Nicaragua +505","Niger +227","Nigeria +234","Niue +683","North Korea +850","Northern Mariana Islands +1670","Norway +47","Oman +968","Pakistan +92","Palau +680","Palestine +970","Panama +507","Papua New Guinea +675","Paraguay +595","Peru +51","Philippines +63","Pitcairn +64","Poland +48","Portugal +351","Puerto Rico +1787","Puerto Rico +1939","Qatar +974","Republic of the Congo +242","Reunion +262","Romania +40","Russia +7","Rwanda +250","Saint Barthelemy +590","Saint Helena +290","Saint Kitts and Nevis +1869","Saint Lucia +1758","Saint Martin +590","Saint Pierre and Miquelon +508","Saint Vincent and the Grenadines +1784","Samoa +685","San Marino +378","Sao Tome and Principe +239","Saudi Arabia +966","Senegal +221","Serbia +381","Seychelles +248","Sierra Leone +232","Singapore +65","Sint Maarten +1721","Slovakia +421","Slovenia +386","Solomon Islands +677","Somalia +252","South Africa +27","South Korea +82","South Sudan +211","Spain +34","Sri Lanka +94","Sudan +249","Suriname +597","Svalbard and Jan Mayen +47","Swaziland +268","Sweden +46","Switzerland +41","Syria +963","Taiwan +886","Tajikistan +992","Tanzania +255","Thailand +66","Togo +228","Tokelau +690","Tonga +676","Trinidad and Tobago +1868","Tunisia +216","Turkey +90","Turkmenistan +993","Turks and Caicos Islands +1649","Tuvalu +688","U.S. Virgin Islands +1340","Uganda +256","Ukraine +380","United Arab Emirates +971","United Kingdom +44","United States +1","Uruguay +598","Uzbekistan +998","Vanuatu +678","Vatican +379","Venezuela +58","Vietnam +84","Wallis and Futuna +681","Western Sahara +212","Yemen +967","Zambia +260","Zimbabwe +263"],timeZone:[{value:"Etc/GMT+12",label:"(GMT-12:00) International Date Line West"},{value:"Pacific/Midway",label:"(GMT-11:00) Midway Island, Samoa"},{value:"US/Hawaii",label:"(GMT-10:00) Hawaii"},{value:"US/Alaska",label:"(GMT-09:00) Alaska"},{value:"Canada/Pacific",label:"(GMT-08:00) Pacific Time (US and Canada); Tijuana"},{value:"Canada/Mountain",label:"(GMT-07:00) Mountain Time (US and Canada)"},{value:"America/Mazatlan",label:"(GMT-07:00) Chihuahua, La Paz, Mazatlan"},{value:"US/Arizona",label:"(GMT-07:00) Arizona"},{value:"Canada/Central",label:"(GMT-06:00) Central Time (US and Canada"},{value:"Canada/East-Saskatchewan",label:"(GMT-06:00) Saskatchewan"},{value:"America/Mexico_City",label:"(GMT-06:00) Guadalajara, Mexico City, Monterrey"},{value:"US/Central",label:"(GMT-06:00) Central America"},{value:"Canada/Eastern",label:"(GMT-05:00) Eastern Time (US and Canada)"},{value:"US/East-Indiana",label:"(GMT-05:00) Indiana (East)"},{value:"America/Bogota",label:"(GMT-05:00) Bogota, Lima, Quito"},{value:"Canada/Atlantic",label:"(GMT-04:00) Atlantic Time (Canada)"},{value:"America/La_Paz",label:"(GMT-04:00) Caracas, La Paz"},{value:"America/Santiago",label:"(GMT-04:00) Santiago"},{value:"America/Buenos_Aires",label:"(GMT-03:00) Buenos Aires, Georgetown"},{value:"Etc/GMT+2",label:"(GMT-02:00) Mid-Atlantic"},{value:"Atlantic/Azores",label:"(GMT-01:00) Azores"},{value:"Atlantic/Cape_Verde",label:"(GMT-01:00) Cape Verde Islands"},{value:"Europe/London",label:"(GMT) Greenwich Mean Time: Dublin, Edinburgh, Lisbon, London"},{value:"Africa/Casablanca",label:"(GMT) Casablanca, Monrovia"},{value:"Europe/Belgrade",label:"(GMT+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague"},{value:"Europe/Sarajevo",label:"(GMT+01:00) Sarajevo, Skopje, Warsaw, Zagreb"},{value:"Europe/Brussels",label:"(GMT+01:00) Brussels, Copenhagen, Madrid, Paris"},{value:"Europe/Amsterdam",label:"(GMT+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna"},{value:"Africa/Algiers",label:"(GMT+01:00) West Central Africa"},{value:"Europe/Bucharest",label:"(GMT+02:00) Bucharest"},{value:"Africa/Cairo",label:"(GMT+02:00) Cairo"},{value:"Europe/Helsinki",label:"(GMT+02:00) Helsinki, Kiev, Riga, Sofia, Tallinn, Vilnius"},{value:"Europe/Athens",label:"(GMT+02:00) Athens, Istanbul, Minsk"},{value:"Asia/Jerusalem",label:"(GMT+02:00) Jerusalem"},{value:"Africa/Harare",label:"(GMT+02:00) Harare, Pretoria"},{value:"Etc/GMT-3",label:"(GMT+03:00) Moscow, St. Petersburg, Volgograd"},{value:"Asia/Kuwait",label:"(GMT+03:00) Kuwait, Riyadh"},{value:"Africa/Nairobi",label:"(GMT+03:00) Nairobi"},{value:"Asia/Baghdad",label:"(GMT+03:00) Baghdad"},{value:"Asia/Tehran",label:"(GMT+03:30) Tehran"},{value:"Asia/Muscat",label:"(GMT+04:00) Abu Dhabi, Muscat"},{value:"Asia/Tbilisi",label:"(GMT+04:00) Baku, Tbilisi, Yerevan"},{value:"Asia/Kabul",label:"(GMT+04:30) Kabul"},{value:"Etc/GMT-5",label:"(GMT+05:00) Ekaterinburg"},{value:"Asia/Karachi",label:"(GMT+05:00) Islamabad, Karachi, Tashkent"},{value:"Asia/Kolkata",label:"(GMT+05:30) Chennai, Kolkata, Mumbai, New Delhi"},{value:"Asia/Kathmandu",label:"(GMT+05:45) Kathmandu"},{value:"Asia/Dhaka",label:"(GMT+06:00) Astana, Dhaka"},{value:"Asia/Almaty",label:"(GMT+06:00) Almaty, Novosibirsk"},{value:"Asia/Rangoon",label:"(GMT+06:30) Yangon Rangoon"},{value:"Asia/Bangkok",label:"(GMT+07:00) Bangkok, Hanoi, Jakarta"},{value:"Asia/Chongqing",label:"(GMT+08:00) Beijing, Chongqing, Hong Kong SAR, Urumqi"},{value:"Asia/Kuala_Lumpur",label:"(GMT+08:00) Kuala Lumpur, Singapore"},{value:"Asia/Taipei",label:"(GMT+08:00) Taipei"},{value:"Australia/Perth",label:"(GMT+08:00) Perth"},{value:"Asia/Ulaanbaatar",label:"(GMT+08:00) Irkutsk, Ulaanbaatar"},{value:"Asia/Seoul",label:"(GMT+09:00) Seoul"},{value:"Asia/Tokyo",label:"(GMT+09:00) Osaka, Sapporo, Tokyo"},{value:"Asia/Yakutsk",label:"(GMT+09:00) Yakutsk"},{value:"Australia/Darwin",label:"(GMT+09:30) Darwin"},{value:"Australia/Adelaide",label:"(GMT+09:30) Adelaide"},{value:"Australia/Canberra",label:"(GMT+10:00) Canberra, Melbourne, Sydney"},{value:"Australia/Brisbane",label:"(GMT+10:00) Brisbane"},{value:"Australia/Hobart",label:"(GMT+10:00) Hobart"},{value:"Asia/Vladivostok",label:"(GMT+10:00) Vladivostok"},{value:"Pacific/Guam",label:"(GMT+10:00) Guam, Port Moresby"},{value:"Asia/Magadan",label:"(GMT+11:00) Magadan, Solomon Islands, New Caledonia"},{value:"Pacific/Fiji",label:"(GMT+12:00) Fiji Islands, Kamchatka, Marshall Islands"},{value:"Pacific/Auckland",label:"(GMT+12:00) Auckland, Wellington"},{value:"Etc/GMT-13",label:"(GMT+13:00) Nuku'alofa"}]},factoryFn=function(){return factoryVal},app=angular.module("keeperp");app.filter("dateFilter",function(){return function(a){return formatDateToEnCN(a)}}),app.filter("megaNumber",function(){return function(a,b){if(void 0===a)return"0";if(null===a)return null;if(0===a)return"0";(!b||b<0)&&(b=2);for(var c=Math.abs(a),d=Math.pow(10,b),e=a<0,f="",g=[{key:"Q",value:Math.pow(10,15)},{key:"T",value:Math.pow(10,12)},{key:"B",value:Math.pow(10,9)},{key:"M",value:Math.pow(10,6)},{key:"K",value:1e3}],h=0;h<g.length;h++){var i=c/g[h].value;if((i=Math.round(i*d)/d)>=1){c=i,f=g[h].key;break}}return(e?"-":"")+c+f}}),app.filter("datetimeFilter",function(){return function(a){return formatDateTimeToEnCN(a)}}),app.directive("datetimepicker",function(){return{require:"ngModel",restrict:"A",link:function(a,b,c,d){function e(){var a=b.find("input").val();d.$setViewValue(a)}if(d){d.$render=function(){b.find("input").val(d.$viewValue||"")};var f=b.attr("hourOnly"),g=b.attr("dateOnly"),h=(b.attr("startT"),b.attr("endT"),"YYYY-MM-DD HH:mm:ss");f&&(h="LT"),g&&(h="YYYY-MM-DD"),b.datetimepicker({format:h,locale:"en",allowInputToggle:!0}),b.on("dp.change",function(){a.$apply(e)}),e()}}}}),app.factory("form",factoryFn),app.config(["$stateProvider","$urlRouterProvider","$ocLazyLoadProvider","IdleProvider","KeepaliveProvider",config]),app.run(["$rootScope","$state","$modal",function(a,b,c){a.$state=b,a.$on("$viewContentLoaded",function(a){$("#page-wrapper").css("min-height",$(window).height()+"px"),$("#newSideMenu").hide(),$(".back-btn").show(),$("body").removeClass("show-slidbar"),checkLogin()}),a.$on("$locationChangeStart",function(a,b,c){if(sessionStorage.removeItem("errorCode"),b.indexOf("merchantDetail")<0&&(factoryVal.AreaTab=!1),b.indexOf("campaignDetail")<0&&(factoryVal.rewardTab=!1),b.indexOf("customerDetail")<0&&(factoryVal.stampHistory=!1,factoryVal.reservationHistory=!1),factoryVal.functionList){var d=sessionStorage.getItem("ks");if(d){var e=CryptoJS.AES.decrypt(d,"kplus");e=e.toString(CryptoJS.enc.Utf8);var f=angular.toJson(factoryVal),g=CryptoJS.AES.encrypt(f,e);sessionStorage.setItem("form",g.toString())}}else factoryVal=resistSession(factoryVal)}),a.$root.warning=function(){c.open({templateUrl:"/pages/common/warningDlg.html",controller:WarningDlgCtrl})},a.$root.sessionTimeout=function(){c.open({templateUrl:"/pages/common/warningDlg.html",controller:SessionTimeDlgCtrl})},a.warningDlg=function(b){b=b||{},b.msg=b.msg||"",a.msg=b.msg,shoppoDialog(a,{template:"warningDlg.html?rnd="+rnd,preCloseCallback:angular.loop})},a.useThumbnail=function(a){var b=a.lastIndexOf(".");return a.substring(0,b)+"_s"+a.substring(b)}}]),$(window).ajaxError(function(a,b,c,d){if(b.responseText){var e=JSON.parse(b.responseText);return void(10401==e.errorCode?sessionTimeout(e.message):warning(e.message))}warning(0==b.readyState?error[factoryFn().lang].noNetWork:413==b.readyState?error[factoryFn().lang].imgLimit:"Error requesting "+c.url+": "+b.status+" "+b.statusText)}).ajaxStart(function(){$(".spiner-postion").removeClass("hide")}).ajaxStop(function(){$(".spiner-postion").addClass("hide")});var WarningDlgCtrl=["$scope","$modalInstance",warningDlgCtrl],SessionTimeDlgCtrl=["$scope","$modalInstance","$state",sessionTimeDlgCtrl],MainCtlr=["$scope","$modal","form","$state",mainCtlr];angular.module("keeperp").controller("MainCtlr",MainCtlr),Date.prototype.format=function(a){var b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours()%12==0?12:this.getHours()%12,"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()},c={0:"/u65e5",1:"/u4e00",2:"/u4e8c",3:"/u4e09",4:"/u56db",5:"/u4e94",6:"/u516d"};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(a)&&(a=a.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"/u661f/u671f":"/u5468":"")+c[this.getDay()+""]));for(var d in b)new RegExp("("+d+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[d]:("00"+b[d]).substr((""+b[d]).length)));return a};var goToCustomHref=function(){hideKeyboard(),setTimeout(function(){window.location=$(".back-btn").attr("customHref")},300)},browser={versions:function(){var a=navigator.userAgent;navigator.appVersion;return{trident:a.indexOf("Trident")>-1,presto:a.indexOf("Presto")>-1,webKit:a.indexOf("AppleWebKit")>-1,gecko:a.indexOf("Gecko")>-1&&-1==a.indexOf("KHTML"),mobile:!!a.match(/AppleWebKit.*Mobile.*/),ios:!!a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:a.indexOf("Android")>-1||a.indexOf("Linux")>-1,iPhone:a.indexOf("iPhone")>-1,iPad:a.indexOf("iPad")>-1}}()},sendGAEvent=function(a,b,c,d,e){var f="Page View";if("undefined"!=typeof _hmt)if(e.length>0&&_hmt.push(["_setCustomVar",1,"param",JSON.stringify(e),SCOPE_THIS_ACTION]),b==f){var g=window.location.hash.replace("#","/");""!=g&&_hmt.push(["_trackPageview",g])}else _hmt.push(["_trackEvent",b,c,a,d]);"undefined"!=typeof _czc&&(e.length>0&&_czc.push(["_setCustomVar",1,"param",JSON.stringify(e),SCOPE_THIS_ACTION]),b==f?_czc.push(["_trackPageview",a]):_czc.push(["_trackEvent",b,c,a,d]))};angular.module("keeperp").config(["$translateProvider",config2]),angular.module("keeperp").directive("pageTitle",["$rootScope","$timeout",pageTitle]).directive("sideNavigation",["$timeout",sideNavigation]).directive("iboxTools",["$timeout",iboxTools]).directive("minimalizaSidebar",["$timeout",minimalizaSidebar]).directive("vectorMap",["$timeout",vectorMap]).directive("sparkline",["$timeout",sparkline]).directive("icheck",["$timeout",icheck]).directive("ionRangeSlider",["$timeout",ionRangeSlider]).directive("dropZone",["$timeout",dropZone]).directive("responsiveVideo",["$timeout",responsiveVideo]).directive("chatSlimScroll",["$timeout",chatSlimScroll]).directive("customValid",["$timeout",customValid]).directive("fullScroll",["$timeout",fullScroll]).directive("closeOffCanvas",["$timeout",closeOffCanvas]).directive("clockPicker",["$timeout",clockPicker]).directive("landingScrollspy",["$timeout",landingScrollspy]).directive("fitHeight",["$timeout",fitHeight]).directive("iboxToolsFullScreen",["$timeout",iboxToolsFullScreen]).directive("slimScroll",["$timeout",slimScroll]).directive("onLastRepeat",[onLastRepeat]).directive("iosDblclick",[iosDblclick]),$(document).ready(function(){function a(){var a=window.screen.height-61;$(".sidebard-panel").css("min-height",a+"px"),$(".slimScrollDiv").css("height",a+"px");var b=$("nav.navbar-default").height(),c=$("#page-wrapper").height();b>c&&$("#page-wrapper").css("min-height",b+"px"),b<c&&$("#page-wrapper").css("min-height",$(window).height()+"px"),$("body").hasClass("fixed-nav")&&(b>c?$("#page-wrapper").css("min-height",b+"px"):$("#page-wrapper").css("min-height",$(window).height()-60+"px"))}$(window).bind("load resize scroll",function(){$("body").hasClass("body-small")||a()}),$(window).scroll(function(){$(window).scrollTop()>0&&!$("body").hasClass("fixed-nav")?$("#right-sidebar").addClass("sidebar-top"):$("#right-sidebar").removeClass("sidebar-top")}),setTimeout(function(){a()})}),$(function(){$(window).bind("load resize",function(){$(document).width()<769?$("body").addClass("body-small"):$("body").removeClass("body-small")})}),angular.module("ngIOS9UIWebViewPatch",["ng"]).config(["$provide",function(a){"use strict";a.decorator("$browser",["$delegate","$window",function(a,b){function c(a){return/(iPhone|iPad|iPod).* OS 9_\d/.test(a)&&!/Version\/9\./.test(a)}function d(a){function b(){c=null}var c=null,d=a.url;return a.url=function(){return arguments.length?(c=arguments[0],d.apply(a,arguments)):c||d.apply(a,arguments)},window.addEventListener("popstate",b,!1),window.addEventListener("hashchange",b,!1),a}return c(b.navigator.userAgent)?d(a):a}])}]);
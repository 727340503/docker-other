!function(a){if("function"==typeof define&&define.amd)define([],a);else if("object"==typeof module){var b=module.exports=a();b.HashMap=b}else this.HashMap=a()}(function(){function a(a){switch(this.clear(),arguments.length){case 0:break;case 1:this.copy(a);break;default:c(this,arguments)}}function c(a,b){for(var c=0;c<b.length;c+=2)a.set(b[c],b[c+1])}function d(a,b){Object.defineProperty&&Object.defineProperty(a,b,{enumerable:!1})}var b=a.prototype={constructor:a,get:function(a){var b=this._data[this.hash(a)];return b&&b[1]},set:function(a,b){var c=this.hash(a);c in this._data||this._count++,this._data[c]=[a,b]},multi:function(){c(this,arguments)},copy:function(a){for(var b in a._data)b in this._data||this._count++,this._data[b]=a._data[b]},has:function(a){return this.hash(a)in this._data},search:function(a){for(var b in this._data)if(this._data[b][1]===a)return this._data[b][0];return null},remove:function(a){var b=this.hash(a);b in this._data&&(this._count--,delete this._data[b])},type:function(a){var b=Object.prototype.toString.call(a),c=b.slice(8,-1).toLowerCase();return"domwindow"!==c||a?c:a+""},keys:function(){var a=[];return this.forEach(function(b,c){a.push(c)}),a},values:function(){var a=[];return this.forEach(function(b){a.push(b)}),a},count:function(){return this._count},clear:function(){this._data={},this._count=0},clone:function(){return new a(this)},hash:function(b){switch(this.type(b)){case"undefined":case"null":case"boolean":case"number":case"regexp":return b+"";case"date":return"♣"+b.getTime();case"string":return"♠"+b;case"array":for(var c=[],e=0;e<b.length;e++)c[e]=this.hash(b[e]);return"♥"+c.join("⁞");default:return b.hasOwnProperty("_hmuid_")||(b._hmuid_=++a.uid,d(b,"_hmuid_")),"♦"+b._hmuid_}},forEach:function(a,b){for(var c in this._data){var d=this._data[c];a.call(b||this,d[1],d[0])}}};return a.uid=0,["set","multi","copy","remove","clear","forEach"].forEach(function(a){var c=b[a];b[a]=function(){return c.apply(this,arguments),this}}),a});
function homePageCurrentCtrl(a,b,c,d,e,f,g){a.form=e,a.maxData=[5,1,4,1],a.homePageStatus={1:"Pending",2:"Active",3:"Expired",4:"Inactive"},a.typeLabel={1:"Coupon",2:"Banner",3:"Game",4:"Campaign"},a.setRecordData=function(){a.data={};for(var b=0;b<a.records.length;b++)a.data[a.records[b].refId+"_"+a.records[b].type]=a.records[b]},a.cancel=function(){f.path("/main/homePage")},a.getMerchantHomePage=function(){var b=apiDomain+getMerchantHomePageApi,c=copyData(a.form.userInfo);c.merchantId=a.form.merchantId,c.status=1,$.ajax({type:a.form.postType,url:b,context:document.body,data:c,success:function(b){apiResultsProcessingFun(b,function(){a.homepage=angular.fromJson(b.result.homePageFrame),a.records=b.result.homePageData,a.homepage?(a.setRecordData(),a.flexsliderLanding(),a.flexsliderCoupon()):(a.homepage=[[],[],[],[]],a.records=[],a.data={}),a.$apply()})}})},a.getMerchantHomePage(),a.statusClass={1:"warning",2:"success",3:"info",4:"danger"},a.flexsliderLanding=function(){$(".flexsliderLand").remove();for(var b='<div class="flexsliderLand flexslider"><ul class="slides">',c=0;c<a.homepage[0].length;c++)b+='<li><img src="'+a.data[a.homepage[0][c].refId+"_"+a.homepage[0][c].type].img+'"></li>';b+="</ul></div>",$(".landing").append(b),$(".flexsliderLand").flexslider({animation:"slide",directionNav:!1,slideshow:!1,slideshowSpeed:1e3,prevText:"",nextText:"",controlNav:!0})},a.flexsliderCoupon=function(){$(".flexsliderCoupon").remove();for(var b='<div class="flexsliderCoupon flexslider"><ul class="slides">',c=0;c<a.homepage[2].length;c++)b+='<li ><img src="'+a.data[a.homepage[2][c].refId+"_"+a.homepage[2][c].type].img+'"></li>';b+="</ul></div>",$(".coupon").append(b),$(".flexsliderCoupon").flexslider({animation:"slide",directionNav:!1,slideshow:!1,slideshowSpeed:1e3,prevText:"",nextText:"",controlNav:!0})},a.$watch("homepage",function(b,c){b!=c&&(a.flexsliderLanding(),a.flexsliderCoupon())},!0),a.delete=function(b,c){a.homepage[b].splice(c,1)},$(window).on("resize",function(){$(".homePage .landing").height($(".homePage .landing img").height()),$(".homePage .coupon").height($(".homePage .coupon img").height())})}var HomePageCurrentCtrl=["$scope","$translate","$state","$timeout","form","$location","$modal",homePageCurrentCtrl];angular.module("keeperp").controller("HomePageCurrentCtrl",HomePageCurrentCtrl);
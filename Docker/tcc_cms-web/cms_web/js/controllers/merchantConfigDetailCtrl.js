function merchantConfigDetailCtrl(a,b,c,d,e,f,g,h,i){a.form=d,a.getMerchantConfigInfo=function(){var b=apiDomain+getMerchantConfigInfoApi,c=copyData(a.form.userInfo);c.id=a.form.reasonId,c.userName=a.form.searchUsername,c.password=a.form.searchPassword,$.ajax({type:a.form.postType,url:b,context:document.body,data:c,success:function(b){apiResultsProcessingFun(b,function(){a.configDetail=b.result,a.configDetail.merchantId+="",a.configDetail.emailSmtpAuth+="",a.configDetail.emailSmtpStsEnable+="",a.configDetail.emailSmtpStsRequired+="",a.merchantListEvent(),a.$apply()})}})},a.merchantListEvent=function(){var b=apiDomain+getMerchantListApi,c=copyData(a.form.userInfo);c.startRow=0,c.maxRows=1e6,c.sortType="ASC",c.sortField="id",$.ajax({type:a.form.postType,url:b,context:document.body,data:c,success:function(b){apiResultsProcessingFun(b,function(){a.merchantList=b.resultList,a.configDetail.merchantId||(a.configDetail.merchantId=a.merchantList[0].id+""),a.$apply()})}})},a.save=function(){var b=apiDomain+updateMerchantConfigApi,c=copyData(a.form.userInfo);c.id=a.form.reasonId,c.userName=a.form.searchUsername,c.password=a.form.searchPassword,c.merchantId=a.configDetail.merchantId,c.pushProjectId=a.configDetail.pushProjectId,c.emailHost=a.configDetail.emailHost,c.emailPort=a.configDetail.emailPort,c.emailUserName=a.configDetail.emailUserName,c.emailPassword=a.configDetail.emailPassword,c.emailSmtpAuth=a.configDetail.emailSmtpAuth,c.emailSmtpStsEnable=a.configDetail.emailSmtpStsEnable,c.emailSmtpStsRequired=a.configDetail.emailSmtpStsRequired,c.emailFromNick=a.configDetail.emailFromNick,c.emailFrom=a.configDetail.emailFrom,c.supportEmailFrom=a.configDetail.supportEmailFrom,c.webDomain=a.configDetail.webDomain,c.apiDomain=a.configDetail.apiDomain,c.reservationPushTemplate=a.configDetail.reservationPushTemplate,c.registerVerifyEmailTemplate=a.configDetail.registerVerifyEmailTemplate,c.resetPasswordEmailTemplate=a.configDetail.resetPasswordEmailTemplate,c.iquiryEmailTemplate=a.configDetail.iquiryEmailTemplate,c.shareTemplate=a.configDetail.shareTemplate,c.shareDefalutTitle=a.configDetail.shareDefalutTitle,c.shareDefalutDescr=a.configDetail.shareDefalutDescr,c.shareDefalutImage=a.configDetail.shareDefalutImage,c.smsBaseUrl=a.configDetail.smsBaseUrl,c.smsUserName=a.configDetail.smsUserName,c.smsPassword=a.configDetail.smsPassword,c.imgDomain=a.configDetail.imgDomain,c.fbAppId=a.configDetail.fbAppId,c.fbAppToken=a.configDetail.fbAppToken,c.fbDebugTokenApi=a.configDetail.fbDebugTokenApi,c.maxSendSmsCount=a.configDetail.maxSendSmsCount,c.smsFrom=a.configDetail.smsFrom,$.ajax({type:a.form.postType,url:b,context:document.body,data:c,success:function(b){apiResultsProcessingFun(b,function(){a.alert("success"," ","Success！"),a.$apply()})}})},a.addMerchantConfig=function(){var b=apiDomain+addMerchantConfigApi,c=copyData(a.form.userInfo);c.userName=a.form.searchUsername,c.password=a.form.searchPassword,c.merchantId=a.configDetail.merchantId,c.pushProjectId=a.configDetail.pushProjectId,c.emailHost=a.configDetail.emailHost,c.emailPort=a.configDetail.emailPort,c.emailUserName=a.configDetail.emailUserName,c.emailPassword=a.configDetail.emailPassword,c.emailSmtpAuth=a.configDetail.emailSmtpAuth,c.emailSmtpStsEnable=a.configDetail.emailSmtpStsEnable,c.emailSmtpStsRequired=a.configDetail.emailSmtpStsRequired,c.emailFromNick=a.configDetail.emailFromNick,c.emailFrom=a.configDetail.emailFrom,c.supportEmailFrom=a.configDetail.supportEmailFrom,c.webDomain=a.configDetail.webDomain,c.apiDomain=a.configDetail.apiDomain,c.reservationPushTemplate=a.configDetail.reservationPushTemplate,c.registerVerifyEmailTemplate=a.configDetail.registerVerifyEmailTemplate,c.resetPasswordEmailTemplate=a.configDetail.resetPasswordEmailTemplate,c.iquiryEmailTemplate=a.configDetail.iquiryEmailTemplate,c.shareTemplate=a.configDetail.shareTemplate,c.shareDefalutTitle=a.configDetail.shareDefalutTitle,c.shareDefalutDescr=a.configDetail.shareDefalutDescr,c.shareDefalutImage=a.configDetail.shareDefalutImage,c.smsBaseUrl=a.configDetail.smsBaseUrl,c.smsUserName=a.configDetail.smsUserName,c.smsPassword=a.configDetail.smsPassword,c.imgDomain=a.configDetail.imgDomain,c.fbAppId=a.configDetail.fbAppId,c.fbAppToken=a.configDetail.fbAppToken,c.fbDebugTokenApi=a.configDetail.fbDebugTokenApi,c.maxSendSmsCount=a.configDetail.maxSendSmsCount,c.smsFrom=a.configDetail.smsFrom,$.ajax({type:a.form.postType,url:b,context:document.body,data:c,success:function(b){apiResultsProcessingFun(b,function(){a.alert("success"," ","Success！"),g(function(){e.path("/main/merchantConfigList")}),a.$apply()})}})},$("#baseInfo").validate({errorPlacement:function(a,b){b.parent().after(a)},rules:{},messages:{},submitHandler:function(b){a.form.reasonId?a.save():a.addMerchantConfig()}}),a.cancel=function(){e.path("/main/merchantConfigList")},a.init=function(){a.form.reasonId?a.getMerchantConfigInfo():(a.configDetail={},a.merchantListEvent())},a.init()}var MerchantConfigDetailCtrl=["$scope","$translate","$http","form","$location","uiGridConstants","$timeout","$filter","i18nService",merchantConfigDetailCtrl];angular.module("keeperp").controller("MerchantConfigDetailCtrl",MerchantConfigDetailCtrl);
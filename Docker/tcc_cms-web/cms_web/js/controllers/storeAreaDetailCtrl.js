function storeAreaDetailCtrl(a,b,c,d,e,f,g){a.form=e,a.cancel=function(){f.path("/main/merchantDetail")},a.form.AreaTab=!0,$("#baseInfo").validate({errorPlacement:function(a,b){b.parent().after(a)},rules:{},messages:{},submitHandler:function(b){a.form.merchantAreaId?a.updateReward():a.addRewardRule()}}),a.addRewardRule=function(){var b=apiDomain+createMerchantAreaApi,c=copyData(a.form.userInfo);c.merchantId=a.form.merchantId,c.langData=[],c.langData.push(a.storeAreaDetail.langData),c.langData=angular.toJson(c.langData),$.ajax({type:a.form.postType,url:b,context:document.body,data:c,success:function(b){apiResultsProcessingFun(b,function(){a.alert("success"," ","Success！"),d(function(){f.path("/main/merchantDetail")})})}})},a.updateReward=function(){var b=apiDomain+updateMerchantAreaApi,c=copyData(a.form.userInfo);c.merchantAreaId=a.form.merchantAreaId,c.langData=[{id:a.storeAreaDetail.langData.id,areaInfo:a.storeAreaDetail.langData.areaInfo,descr:a.storeAreaDetail.langData.descr,langCode:a.storeAreaDetail.langData.langCode}],c.langData=angular.toJson(c.langData),$.ajax({type:a.form.postType,url:b,context:document.body,data:c,success:function(b){apiResultsProcessingFun(b,function(){a.alert("success"," ","Success！"),d(function(){f.path("/main/merchantDetail")})})}})},a.getMerchantDetail=function(b){var c=apiDomain+getMerchantDetailApi,d=copyData(a.form.userInfo);d.merchantId=b,$.ajax({type:a.form.postType,url:c,context:document.body,data:d,success:function(b){apiResultsProcessingFun(b,function(){for(var c=0;c<a.form.languageList.length;c++)a.form.languageList[c].select=!1;a.merchantDetail=b.result;for(var c=0;c<a.merchantDetail.merchantLangMapList.length;c++)a.merchantDetail.merchantLangMapList[c].isDefault&&(a.storeAreaDetail.langData.langCode=a.merchantDetail.merchantLangMapList[c].langCode);a.$apply()})}})},a.selectPageLang=function(){d(function(){for(var b=0;b<a.storeAreaDetail.merchantAreaLangMaps.length;b++)a.storeAreaDetail.merchantAreaLangMaps[b].langCode==a.pageLanguage&&(a.storeAreaDetail.langData=a.storeAreaDetail.merchantAreaLangMaps[b])})},a.form.merchantAreaId?(a.newReward=!1,a.storeAreaDetail=a.form.storeAreaDetail,a.storeAreaDetail.langData=a.form.storeAreaDetail.merchantAreaLangMaps[0],a.pageLanguage=a.storeAreaDetail.langData.langCode,a.getMerchantDetail(a.form.merchantId)):(a.newReward=!0,a.storeAreaDetail={langData:{}},a.getMerchantDetail(a.form.merchantId))}var StoreAreaDetailCtrl=["$scope","$translate","$state","$timeout","form","$location","$modal",storeAreaDetailCtrl];angular.module("keeperp").controller("StoreAreaDetailCtrl",StoreAreaDetailCtrl);
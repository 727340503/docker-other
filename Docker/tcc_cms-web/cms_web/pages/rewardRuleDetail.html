<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-sm-10">
        <h2>{{ 'RewardRuleInfo' | translate }}</h2>
        <ol class="breadcrumb">
            <li>
                <a  ng-click="goLanding()">{{ 'Landing' | translate }}</a>
            </li>
            <li>
                <a  ng-click="cancel()">{{ 'CampaignInfo' | translate }}</a>
            </li>
            <li class="active">
                <strong>{{ 'RewardRuleInfo' | translate }}</strong>
            </li>
        </ol>
    </div>
    <div class="col-sm-2">
    </div>
</div>
<div class="tabs-container" style="padding-bottom:50px;margin-top:18px;">
    <div class="tab-content">
        <div id="tab-1" class="tab-pane active">
            <div class="panel-body">
                <div class="ibox-content">
                    <form method="get" class="form-horizontal" id="baseInfo">
                        <div class="form-group" >
                            <label class="col-sm-2 control-label">Reward<span style="color:red">*</span></label>
                            <div class="col-sm-3">
                                <div>
                                    <select class="form-control" ng-disabled="!form.newGift" ng-model="form.giftId" name="giftId" required>
                                        <option value="">--- Please Select ---</option>
                                        <option ng-repeat="reward in giftList" value="{{reward.id}}">{{reward.name}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label">{{ 'externalId' | translate }}<span style="color:red">*</span></label>
                            <div class="col-sm-10">
                                <div>
                                    <input type="text" class="form-control" ng-model="rewardRuleDetail.externalGiftId" name="externalGiftId" required>
                                </div>
                            </div>
                        </div>
                        <div class="form-group" ng-show="!form.newGift">
                            <label class="col-sm-2 control-label">{{ 'Status' | translate }}<span style="color:red">*</span></label>
                            <div class="col-sm-3">
                                <div>
                                    <select class="form-control" ng-model="rewardRuleDetail.status" name="status" required>
                                        <option value="2">{{ 'available' | translate }}</option>
                                        <option value="3"> {{ 'low stock' | translate }}</option>
                                        <option value="4"> {{ 'out of stock' | translate }}</option>
                                        <option value="6">{{ 'Inactive' | translate }}</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="form-group" >
                            <label class="col-sm-2 control-label">{{ 'isReservation' | translate }}</label>
                            <div class="col-sm-3">
                                <label class="isClaimed">
                                    <span class="check-box" ng-class="{checked:rewardRuleDetail.isReservation=='1'}" ng-click="checkReservation(rewardRuleDetail.isReservation)"></span>
                                </label>
                            </div>
                        </div>
                        <div class="form-group " ng-repeat = "giftExchangeType in rewardRuleDetail.giftExchangeTypeData">
                            <label class="control-label col-sm-2">{{ 'RedemptionRule' | translate }} {{$index+1}}<span style="color:red">*</span></label>
                            <div class="form-group ">
                                <div class="col-sm-2">
                                    <div>
                                        <input type="text" class="form-control" placeholder="Stamp" maxlength="5" ng-model="giftExchangeType.stampQty" required name="stampQty{{$index}}">
                                    </div>
                                </div>
                                <div class="col-sm-2" ng-show="giftExchangeType.type=='2'">
                                    <div>
                                        <input type="text" class="form-control" maxlength="5" placeholder="Cash" ng-model="giftExchangeType.cashQty" required name="cashQty{{$index}}">
                                    </div>
                                </div>
                                <div class="col-sm-1" style="width: 100px">
                                    <label class="control-label">+cash</label>
                                    <label class="isClaimed">
                                        <span class="check-box" ng-class="{checked:giftExchangeType.type=='2'}" ng-click="checkCash($index)"></span>
                                    </label>
                                </div>
                                <div class="col-sm-2">
                                    <div>
                                        <input type="text" class="form-control" maxlength="20" placeholder="External rule code" ng-model="giftExchangeType.externalRuleCode" required name="externalRuleCode{{$index}}">
                                    </div>
                                </div>
                                <div class="col-sm-2">
                                    <label class="control-label">Active</label>
                                    <label class="isClaimed">
                                        <span class="check-box" ng-class="{checked:giftExchangeType.status=='1'}" ng-click="checkStatus($index)"></span>
                                    </label>
                                </div>
                                <div class="btn btn-primary btn-circle" ng-click="delRewardRule($index)" ng-if="!giftExchangeType.id"><i class="fa fa-times"></i></div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-2">Add Redemption Rule</label>
                            <a class="btn btn-primary btn-circle" ng-click="addRule()"><i class="fa fa-plus"></i></a>
                        </div>
                        <div class="hr-line-dashed"></div>
                        <div class="form-group">
                            <div class="col-sm-12">
                                <div class="pull-right">
                                    <button class="btn btn-white" type="button" ng-click="cancel()">{{ 'Cancel' | translate }}</button>
                                    <button class="btn btn-primary" ng-if="checkPermission('CAMPAIGN_REWARD_LIST_UPDATE')" type="submit">{{ 'Save' | translate }}</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
